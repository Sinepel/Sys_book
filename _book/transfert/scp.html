<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>SCP | Administration Système</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="">
        <meta name="description" content="[![Screen](https://github.com/Sinepel/Sys_book/blob/master/images/Terminal.png?raw=true)](https://github.com/Sinepel/Sys_book/blob/master/images/Terminal.png?raw=true)">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../transfert/ssh_mdp.html" />
        
        
        <link rel="prev" href="../transfert/ftp.html" />
        

        <meta property="og:title" content="SCP | Administration Système">
        <meta property="og:site_name" content="Administration Système">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="..\gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        
    <div class="book"  data-level="1.2" data-basepath=".." data-revision="1397681461683">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    

    <!-- Title -->
    <h1><a href="../" >Administration Système</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="transfert/README.html">
                
                <a href="../transfert/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> Transfert
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="transfert/ftp.html">
                            
                            <a href="../transfert/ftp.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> FTP
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="transfert/scp.html">
                            
                            <a href="../transfert/scp.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> SCP
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="transfert/ssh_mdp.html">
                            
                            <a href="../transfert/ssh_mdp.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> SSH - sans mot de passe
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="backup/README.html">
                
                <a href="../backup/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Backup
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="backup/automysqlbackup.html">
                            
                            <a href="../backup/automysqlbackup.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> AutoMySQLBackup
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="securite/README.html">
                
                <a href="../securite/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Sécurité
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="securite/fail2ban.html">
                            
                            <a href="../securite/fail2ban.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Fail2Ban
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 37.5%;min-width: 25%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../transfert/README.html" title="Transfert" class="chapter done new-chapter" data-progress="1" style="left: 12.5%;"></a>
    
        <a href="../transfert/ftp.html" title="FTP" class="chapter done " data-progress="1.1" style="left: 25%;"></a>
    
        <a href="../transfert/scp.html" title="SCP" class="chapter done " data-progress="1.2" style="left: 37.5%;"></a>
    
        <a href="../transfert/ssh_mdp.html" title="SSH - sans mot de passe" class="chapter  " data-progress="1.3" style="left: 50%;"></a>
    
        <a href="../backup/README.html" title="Backup" class="chapter  new-chapter" data-progress="2" style="left: 62.5%;"></a>
    
        <a href="../backup/automysqlbackup.html" title="AutoMySQLBackup" class="chapter  " data-progress="2.1" style="left: 75%;"></a>
    
        <a href="../securite/README.html" title="Sécurité" class="chapter  new-chapter" data-progress="3" style="left: 87.5%;"></a>
    
        <a href="../securite/fail2ban.html" title="Fail2Ban" class="chapter  " data-progress="3.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_5">
                    
                        <h1 id="scp-transfert-de-fichier-via-ssh">SCP : Transfert de fichier via SSH</h1>
<p>SCP est un protocole de transfert de fichiers de poste à poste basé sur SSH permettant de sécuriser les échanges.</p>
<p>En effet, il empêche que vos informations puissent être interceptées par d’autres personnes , la sécurité et l’authentification étant gérées par SSH.</p>
<p>J’utilise personnellement ce protocole pour les backup des fichiers sur mon serveur. Mais il m’arrive aussi de l’utiliser pour transférer des fichiers vers mon serveur quand je n’ai pas envie d’ouvrir un logiciel tel que Filezilla. Je vais donc vous apprendre (de manière succincte) à vous servir de SCP, pour plus d’informations , taper « man scp » dans votre terminal . Notez que dans cet article les dossier sont des dossiers sur système Unix (En effet, /home/jeremy/ est mon répertoire personnel sur mon ordinateur tournant sous Debian une distribution GNU/Linux).</p>
<h2 id="backup-de-fichier">Backup de fichier</h2>
<p>Serveur1 –&gt; Serveur2 (Dans le cas d’envoi de dossier)</p>
<pre><code>scp -r -p mylogin1<span class="hljs-variable">@myserveur1</span><span class="hljs-symbol">:dossier1/</span> mylogin2<span class="hljs-variable">@myserveur2</span><span class="hljs-symbol">:dossier2/</span>
</code></pre><p>Serveur –&gt; Ordinateur (Dans le cas d’envoi de dossier)</p>
<pre><code>scp -r -p mylogin<span class="hljs-variable">@myserveur</span><span class="hljs-symbol">:dossier/</span> /home/jeremy/dossier/
</code></pre><p>Serveur1 –&gt; Serveur2 (Dans le cas d’envoi d’un seul fichier)</p>
<pre><code>scp -p mylogin1<span class="hljs-variable">@myserveur1</span><span class="hljs-symbol">:dossier1/mon_fichier1</span>.txt mylogin2<span class="hljs-variable">@myserveur2</span><span class="hljs-symbol">:dossier2/mon_fichier2</span>.txt
</code></pre><p>Serveur –&gt; Ordinateur (Dans le cas d’envoi d’un seul fichier)</p>
<pre><code>scp -p mylogin<span class="hljs-variable">@myserveur</span><span class="hljs-symbol">:dossier/mon_fichier</span>.txt /home/jeremy/dossier/mon_fichier.txt
</code></pre><h2 id="envoi-de-fichier">Envoi de fichier</h2>
<p>Si vous désirez envoyer un dossier de votre ordinateur vers votre serveur :</p>
<pre><code>scp -r -p /home/jeremy/dossier/ mylogin<span class="hljs-variable">@myserveur</span><span class="hljs-symbol">:dossier/</span>
</code></pre><p>Si vous désirez envoyer un fichier de votre ordinateur vers votre serveur :</p>
<pre><code>scp -p /home/jeremy/dossier/ mylogin<span class="hljs-variable">@myserveur</span><span class="hljs-symbol">:dossier/</span>
</code></pre><h2 id="explications">Explications</h2>
<p>Dans mes exemples j’ai introduit deux options en plus de la commande scp, que je vais vous expliquer directement.</p>
<p>L’option -r signifie « récursif », cela signifie que si vous envoyez un dossier (qui contient donc plusieurs fichiers et/ou sous-dossiers), scp parcourra tout ce dossier mais aussi les liens symboliques. Vous remarquerez que dans les commandes où je me contente de n’envoyer qu’un seul fichier, l’option -r disparaît car elle est bien entendu inutile.</p>
<p>L’option -p signifie que scp gardera les dates de modifications et de créations des fichiers et répertoires ainsi que leur droit en lecture et écriture.</p>
<p>Pour plus d’informations tournez vous vers les pages de manuel sur vos distributions en tapant tout simplement « man ssh » ou « man scp » dans un terminal. Ou alors rendez vous sur les pages wikipedia des deux protocoles SSH et SCP</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../transfert/ftp.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../transfert/ssh_mdp.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <link rel="stylesheet" href="..\gitbook/style.css">
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="..\gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="..\gitbook/app.js"></script>
        
    </body>
</html>
